<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Timeline — RNP S1 (Représentation & Narration du Projet)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --bg:#0b0f14; --card:#12171d; --text:#E6E6E6; --text-weak:#DBDBDB; --gold:#D4AF37; --g1:#0f172a; --g2:#1f2937 }
    html,body{height:100%}
    body{background:linear-gradient(135deg, color-mix(in oklab, var(--g1) 88%, #000 12%), color-mix(in oklab, var(--g2) 88%, #000 12%)); color:var(--text); transition:background 1.2s ease-in-out}
    .htrack{scroll-snap-type:x mandatory}
    .hslide{scroll-snap-align:center; transition:transform .35s ease, opacity .35s ease; opacity:.65; width:120px}
    .pixi-img{filter:drop-shadow(0 10px 24px rgba(0,0,0,.45))}
    .overlay{background:rgba(0,0,0,.5)}
    .dialog{background:var(--card)}
    .timeline{position:relative; min-width:100%}
    .rail{position:absolute; left:0; top:50%; transform:translateY(-50%); height:12px; border-radius:999px; opacity:.95; pointer-events:none; z-index:0; width:100%; background:linear-gradient(90deg,#0f1318 0%,#3a3f45 50%,#0f1318 100%)}
    .rail:after{content:""; position:absolute; inset:0; background:repeating-linear-gradient(90deg, transparent 0 22px, rgba(255,255,255,.08) 22px 24px); border-radius:999px}
    .rail::before{content:""; position:absolute; top:0; bottom:0; width:22%; left:-30%; background:linear-gradient(90deg, transparent, rgba(255,255,255,.07), transparent); filter:blur(1px); mix-blend-mode:screen; animation:sweep 9s linear infinite}
    @keyframes sweep{ from{ left:-30% } to{ left:110% } }
    .no-scrollbar{scrollbar-width:none}
    .no-scrollbar::-webkit-scrollbar{display:none}
    .btn{display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .75rem; border-radius:.75rem; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.05)}
    .btn:hover{background:rgba(255,255,255,.08)}
    .openDlg{position:relative}
    .openDlg[data-tip]::after{content:attr(data-tip); position:absolute; left:50%; bottom:110%; transform:translateX(-50%); white-space:nowrap; background:#0f1318; color:var(--text); border:1px solid rgba(255,255,255,.1); padding:.35rem .5rem; border-radius:.5rem; font-size:.75rem; opacity:0; pointer-events:none; transition:opacity .2s ease}
    .openDlg:hover[data-tip]::after{opacity:1}
    #cursor{position:fixed; left:0; top:0; width:8px; height:8px; border-radius:999px; background:var(--gold); box-shadow:0 0 12px rgba(212,175,55,.65); pointer-events:none; opacity:.8; transform:translate(-50%,-50%); z-index:50}
    @media (prefers-reduced-motion: reduce){ .htrack{scroll-behavior:auto} .hslide{transition:none} body{transition:none} #cursor{display:none} .rail::before{display:none} }

    /* Vue Storyboard (grille 3x4) */
    .gridboard #track{display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:1.25rem; overflow:visible; scroll-snap-type:none; padding-block:2rem}
    .gridboard .hslide{width:auto; opacity:1}
    .gridboard .rail{display:none}
  </style>
  <script>
    const DATA={gradients:[["#0f172a","#1f2937"],["#111827","#334155"],["#0b1220","#2b3440"],["#101418","#2a2f36"],["#131313","#2b2b2b"],["#0e1a1a","#243c3c"],["#15161a","#2c2d33"],["#12151a","#2b3340"],["#151519","#2e2a22"],["#14151a","#2f2d35"],["#16161b","#302f3a"],["#171717","#343434"]],sessions:[],pixiFallback:"assets/pixi-default.png"};
  </script>
</head>
<body class="antialiased selection:bg-yellow-500/20">
  <div id="cursor"></div>
  <header class="max-w-6xl mx-auto px-6 pt-8">
    <h1 class="text-2xl md:text-3xl font-semibold tracking-tight">Timeline — RNP · Semestre 1</h1>
    <p class="text-sm text-white/80 mt-1">12 sessions · Timeline horizontale · Cliquez sur PiXi pour le détail & NotebookLM</p>
  </header>
  <main class="mt-6 relative">
    <section aria-label="Timeline des sessions S1" class="relative px-6">
      <div id="track" class="timeline htrack overflow-x-auto no-scrollbar flex gap-12 py-16 scroll-smooth min-w-full" tabindex="0" role="list"></div>
    </section>
    <div class="absolute left-1/2 -bottom-12 transform -translate-x-1/2">
      <button id="toggleView" class="btn text-white/85">Vue Storyboard</button>
    </div>
  </main>
  <div id="dialogRoot" class="hidden fixed inset-0 overlay flex items-end sm:items-center justify-center p-4 z-50">
    <div role="dialog" aria-modal="true" aria-labelledby="dlgTitle" aria-describedby="dlgDesc" class="dialog w-full max-w-md rounded-2xl shadow-2xl ring-1 ring-white/10 p-5">
      <div class="flex items-start gap-3">
        <img id="dlgImg" class="h-12 w-12 object-contain pixi-img" alt="" width="48" height="48" loading="lazy" decoding="async" />
        <div class="min-w-0">
          <h2 id="dlgTitle" class="text-base font-semibold"></h2>
          <p id="dlgDesc" class="text-sm text-white/80 mt-1"></p>
          <a id="dlgLink" aria-disabled="false" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 mt-3 text-sm font-medium text-black bg-[var(--gold)] hover:brightness-95 px-3 py-1.5 rounded-lg transition" href="#">Ouvrir dans NotebookLM</a>
        </div>
      </div>
      <div class="flex justify-end mt-4">
        <button id="dlgClose" class="text-sm text-white/85 hover:text-white px-3 py-1.5 rounded-md ring-1 ring-white/10">Fermer (Esc)</button>
      </div>
    </div>
  </div>
  <div id="srLive" class="sr-only" aria-live="polite"></div>
  <footer class="max-w-6xl mx-auto px-6 py-10 text-xs text-white/70 text-center">© 2025 · Projet <span class="font-medium text-[var(--gold)]">RNP</span> — Timeline S1</footer>
</body>
</html>